<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content=Elecrow><link rel=canonical href=https://wiki.elecrow.com/Products/Lora/LR1262_LoRaWAN_AT_Command_Description.html><link rel=icon href=../../assets/favicon.ico><meta name=generator content="mkdocs-1.5.3, mkdocs-material-9.5.15"><title>LR1262 LoRaWAN AT Command Description - Elecrow</title><link rel=stylesheet href=../../assets/stylesheets/main.7e359304.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../stylesheets/extra.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config",""),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script><link rel=stylesheet href=../../assets/stylesheets/custom.00c04c01.min.css></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#sum-up class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../index.html title=Elecrow class="md-header__button md-logo" aria-label=Elecrow data-md-component=logo> <img src=../../assets/images/ELECROW_LOGO.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Elecrow </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> LR1262 LoRaWAN AT Command Description </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media=(prefers-color-scheme) data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8v2m9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1 0 1.71-1.39 3.1-3.1 3.1h-4V17h4a5 5 0 0 0 5-5 5 5 0 0 0-5-5Z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=black data-md-color-accent=indigo aria-label="Switch to system preference" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to system preference" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5M7 15a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg> </label> </form> <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=http://192.168.2.102:3000/ELECROW_IT/Elecrow_wiki title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> ELECROW_IT/Elecrow_wiki </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../index.html class=md-tabs__link> Main Page </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../index.html title=Elecrow class="md-nav__button md-logo" aria-label=Elecrow data-md-component=logo> <img src=../../assets/images/ELECROW_LOGO.png alt=logo> </a> Elecrow </label> <div class=md-nav__source> <a href=http://192.168.2.102:3000/ELECROW_IT/Elecrow_wiki title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> ELECROW_IT/Elecrow_wiki </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../index.html class=md-nav__link> <span class=md-ellipsis> Main Page </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#sum-up class=md-nav__link> <span class=md-ellipsis> Sum Up </span> </a> <nav class=md-nav aria-label="Sum Up"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1-terms-definitions-and-acronyms class=md-nav__link> <span class=md-ellipsis> 1. Terms, definitions and acronyms </span> </a> <nav class=md-nav aria-label="1. Terms, definitions and acronyms"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#terms-and-definitions class=md-nav__link> <span class=md-ellipsis> Terms and definitions </span> </a> </li> <li class=md-nav__item> <a href=#acronyms class=md-nav__link> <span class=md-ellipsis> Acronyms </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#2-functional-overview class=md-nav__link> <span class=md-ellipsis> 2. Functional overview </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#at-command-syntax class=md-nav__link> <span class=md-ellipsis> AT Command Syntax </span> </a> <nav class=md-nav aria-label="AT Command Syntax"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#clarification class=md-nav__link> <span class=md-ellipsis> Clarification </span> </a> <nav class=md-nav aria-label=Clarification> <ul class=md-nav__list> <li class=md-nav__item> <a href=#note-rn-is-hidden-in-the-following-text-for-ease-of-reading class=md-nav__link> <span class=md-ellipsis> Note: \r\n is hidden in the following text for ease of reading </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#sample-program-description class=md-nav__link> <span class=md-ellipsis> Sample program description </span> </a> <nav class=md-nav aria-label="Sample program description"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1-jumper-connection class=md-nav__link> <span class=md-ellipsis> 1. Jumper connection </span> </a> </li> <li class=md-nav__item> <a href=#2-code-location-to-be-added-later class=md-nav__link> <span class=md-ellipsis> 2. Code location (to be added later) </span> </a> </li> <li class=md-nav__item> <a href=#3-serial-port-settings class=md-nav__link> <span class=md-ellipsis> 3. Serial port settings </span> </a> </li> <li class=md-nav__item> <a href=#4example class=md-nav__link> <span class=md-ellipsis> 4.Example </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#at-command-commands class=md-nav__link> <span class=md-ellipsis> AT command commands </span> </a> <nav class=md-nav aria-label="AT command commands"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#key-id-and-eul-management-commands class=md-nav__link> <span class=md-ellipsis> Key, ID and EUL Management Commands </span> </a> </li> <li class=md-nav__item> <a href=#lorawan-join-and-send-data-commands class=md-nav__link> <span class=md-ellipsis> LoRaWAN join and send data commands </span> </a> </li> <li class=md-nav__item> <a href=#lorawan-network-management-commands class=md-nav__link> <span class=md-ellipsis> LoRaWAN network management commands </span> </a> </li> <li class=md-nav__item> <a href=#radio-test-command class=md-nav__link> <span class=md-ellipsis> Radio Test Command </span> </a> </li> <li class=md-nav__item> <a href=#added-command class=md-nav__link> <span class=md-ellipsis> Added command </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1>LR1262 LoRaWAN AT Command Description</h1> <h2 id=sum-up>Sum Up<a class=headerlink href=#sum-up title="Permanent link">&para;</a></h2> <hr> <p>It mainly introduces the AT commands for LR1262 module communication in the field of Internet of Things, including configuration, operation, data sending and receiving of LoRa modules.</p> <h3 id=1-terms-definitions-and-acronyms><strong>1. Terms, definitions and acronyms</strong><a class=headerlink href=#1-terms-definitions-and-acronyms title="Permanent link">&para;</a></h3> <h4 id=terms-and-definitions><strong>Terms and definitions</strong><a class=headerlink href=#terms-and-definitions title="Permanent link">&para;</a></h4> <ul> <li>LoRa</li> </ul> <p>LoRa is one of the LPWAN communication technologies, which is an ultra-long-range wireless transmission solution based on spread spectrum technology adopted and promoted by Semtech.</p> <p>Features: low power consumption, long distance, low cost.</p> <ul> <li>LoRaWAN</li> </ul> <p>The LoRa Alliance is an open, non-profit organisation founded in March 2015, led by Semtech. The Alliance published a low-power WAN standard based on an open source MAC layer protocol: the LoRaWAN protocol standard.</p> <p>Network topology: Star structure.</p> <p>Network Composition: LoRa Module, Gateway, Server (including Network Server, Network Control and Application Server).</p> <p>LoRaWAN classifies LoRa modules into A/B/C categories.</p> <h4 id=acronyms><strong>Acronyms</strong><a class=headerlink href=#acronyms title="Permanent link">&para;</a></h4> <table> <thead> <tr> <th>Acronyms</th> <th>Full name</th> </tr> </thead> <tbody> <tr> <td>MCU</td> <td>Microcontroller Unit</td> </tr> <tr> <td>MT</td> <td>Mobile Terminal</td> </tr> <tr> <td>TA</td> <td>Terminal Agent</td> </tr> <tr> <td>TE</td> <td>Terminal Equipment</td> </tr> </tbody> </table> <h3 id=2-functional-overview><strong>2. Functional overview</strong><a class=headerlink href=#2-functional-overview title="Permanent link">&para;</a></h3> <p>The TE (Terminal Equipment) can control the functions of the MT (Mobile Terminal) and related network services by sending the AT commands described in this document. Terminal Agent (TA) performs the command and message adaptation function between the terminal equipment and the mobile equipment.</p> <p>The physical realisation of the TE, TA and MT can be as follows:</p> <ul> <li>TE, TA and MT are three separate entities;</li> <li>TE is a separate entity and TA is integrated inside MT;</li> <li>MT is a separate entity and the TA is integrated inside the TE;</li> <li>TE, TA and MT are integrated into one entity.</li> </ul> <p>In this document, TE is the MCU module of the IoT device and TA is the communication module and is integrated inside MT. Communication module means LoRa communication module.</p> <p>The system structure of the terminal equipment (TE), terminal adapter (TA) and mobile terminal (MT) and the basic flow of establishing the association among them are shown in Fig.</p> <p><img alt=Cloud.png loading=lazy src=https://wiki.elecrow.com/images/d/d2/Cloud.png></p> <p>According to the picture, we can see that the MCU module and the communication module are integrated together in the IoT device, and the MCU communicates with the TA through AT commands to control the MT (ME refers to mobile equipment) and realise the interaction between the IoT device and the cloud.</p> <p>The interaction with the cloud is carried out through LoRa. In this document, the standard AT commands are extended to support LoRa commands, etc., so as to realise the message interaction between the IoT device and the cloud.</p> <h2 id=at-command-syntax>AT Command Syntax<a class=headerlink href=#at-command-syntax title="Permanent link">&para;</a></h2> <hr> <p>The AT command uses an ASCII-based command line with the following command format:</p> <p>The request message format is: AT+<cmd>[OP][para-1,para-2,......para-n]</p> <table> <thead> <tr> <th>domain</th> <th>clarification</th> </tr> </thead> <tbody> <tr> <td>AT+</td> <td>command message prefix</td> </tr> <tr> <td>CMD</td> <td>command string</td> </tr> <tr> <td>Op</td> <td>Command Operator. It can be the following:"=": indicates a parameter setting."?" : Indicates the current value of the query parameter." ": indicates the execution of the command."=?" : Indicates the parameter of the query setting command.</td> </tr> <tr> <td>para-1,para-2,……para-n</td> <td>Indicates the value of the parameter to be set, or specifies the parameter to be queried</td> </tr> <tr> <td>\R</td> <td>Carriage return terminator, ASCII code 0x0D</td> </tr> </tbody> </table> <p>Response message format is &lt;\r\n&gt;[+CMD:][para-1,para-2,......para-n]&lt;\r\n&gt; or &lt;\r\n&gt;<status>&lt;\r\n&gt;, or both of the above</p> <table> <thead> <tr> <th>domain</th> <th>clarification</th> </tr> </thead> <tbody> <tr> <td>\r\n</td> <td>Line break, ASCII code 0x0A</td> </tr> <tr> <td>+CMD</td> <td>The corresponding command string</td> </tr> <tr> <td>para-1,para-2,……para-n</td> <td>The corresponding parameter string</td> </tr> <tr> <td>STATUS</td> <td>Command execution status. It can be the following:"OK": indicates that the command execution was successful."ERROR": indicates that the command execution failed."+CME ERROR:<err>": indicates that the command execution failed and returns the corresponding error code.</td> </tr> </tbody> </table> <h3 id=clarification><strong>Clarification</strong><a class=headerlink href=#clarification title="Permanent link">&para;</a></h3> <p>(1) &lt;&gt;: Indicates what must be included.</p> <p>(2) [ ]: indicates optional content.</p> <p>(3) \r: carriage return terminator, ASCII code is 0x0D</p> <p>(4) \n: Line feed character, ASCII code is 0x0A.</p> <p>(5) For example, to query the connection mode of MQTT, send the command as:</p> <ul> <li>AT+IMQTTMODE?\r</li> </ul> <p>(7) The reply message is:</p> <ul> <li> <p>\r\n+IMQTTMODE:1\r\n</p> </li> <li> <p>\r\nOK\r\n</p> </li> </ul> <h4 id=note-rn-is-hidden-in-the-following-text-for-ease-of-reading><strong>Note: \r\n is hidden in the following text for ease of reading</strong><a class=headerlink href=#note-rn-is-hidden-in-the-following-text-for-ease-of-reading title="Permanent link">&para;</a></h4> <p>(1). Parameter configuration of serial port:</p> <ul> <li>baud rate 115200, data bit 8, stop bit 1, parity bit 0.</li> </ul> <p>(2). The current commands support back display, temporarily do not support BackSpace, temporarily do not support back flip history commands.</p> <h2 id=sample-program-description>Sample program description<a class=headerlink href=#sample-program-description title="Permanent link">&para;</a></h2> <hr> <h3 id=1-jumper-connection><strong>1. Jumper connection</strong><a class=headerlink href=#1-jumper-connection title="Permanent link">&para;</a></h3> <p>The LORAWAN_AT project uses a low-power serial port for reception, a power supply section, a reset button, an antenna and a USB connection.</p> <h3 id=2-code-location-to-be-added-later><strong>2. Code location (to be added later)</strong><a class=headerlink href=#2-code-location-to-be-added-later title="Permanent link">&para;</a></h3> <h3 id=3-serial-port-settings><strong>3. Serial port settings</strong><a class=headerlink href=#3-serial-port-settings title="Permanent link">&para;</a></h3> <p>The serial port configuration information is as follows:</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a>Baud rate: 9600 
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a>Data bits: 8 
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a>Stop bits: 1 
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a>Parity: None 
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a>Flow Control: None
</span></code></pre></div> <h3 id=4example><strong>4.Example</strong><a class=headerlink href=#4example title="Permanent link">&para;</a></h3> <p>The following is an example of the steps to configure the network entry using the AT command for node A:</p> <p>(1) Node A Information</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a>DevEui: 70B3D57ED005B7FF
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a>AppEui: 0000000000000003
</span><span id=__span-1-3><a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a>
</span><span id=__span-1-4><a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a>AppKey: A8D7E5959F7746D902BF52BA2F899E3E
</span><span id=__span-1-5><a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a>Node Type: ClassA 
</span><span id=__span-1-6><a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a>Gateway Frequency Group Mask: 0001
</span></code></pre></div> <p>(2) Setting Channel Mode</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a>AT+ChannelMode=1
</span></code></pre></div> <p>(3) Set the node entry frequency band</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-3-1><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a>AT+BAND=8 (8 is 915 frequency band)
</span></code></pre></div> <p>(4) Node triad information configuration</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-4-1><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a>AT+DevEui=70B3D57ED005B7FF
</span><span id=__span-4-2><a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a>AT+AppEui=0000000000000003
</span><span id=__span-4-3><a id=__codelineno-4-3 name=__codelineno-4-3 href=#__codelineno-4-3></a>AT+AppKey=A8D7E5959F7746D902BF52BA2F899E3E
</span></code></pre></div> <p>(5) Start networking</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-5-1><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a>AT+JOIN=1,8
</span></code></pre></div> <p><img alt=915.0.png loading=lazy src=https://wiki.elecrow.com/images/8/84/915.0.png></p> <p>(6) Send data</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-6-1><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a>AT+SEND=1:1:223333
</span></code></pre></div> <p><img alt="Data 4.png" src=https://wiki.elecrow.com/images/0/0e/Data_4.png>]{ loading=lazy }</p> <h2 id=at-command-commands>AT command commands<a class=headerlink href=#at-command-commands title="Permanent link">&para;</a></h2> <hr> <table> <thead> <tr> <th>Command</th> <th>Parameter</th> <th>Explanation</th> </tr> </thead> <tbody> <tr> <td>AT+RESET</td> <td>None</td> <td>//Reset command</td> </tr> <tr> <td>AT+RFS</td> <td>None</td> <td>//Clear Flash Data</td> </tr> <tr> <td>AT++SAVE</td> <td>None</td> <td>//Save to flash memory</td> </tr> <tr> <td>AT+VL</td> <td>[=verb_lvl], verb_lvl = [0:3]</td> <td>//Set the level of detail for obtaining information</td> </tr> <tr> <td>AT+LTIME</td> <td>[=?]</td> <td>//Get the local time in UTC format.</td> </tr> </tbody> </table> <h3 id=key-id-and-eul-management-commands><strong>Key, ID and EUL Management Commands</strong><a class=headerlink href=#key-id-and-eul-management-commands title="Permanent link">&para;</a></h3> <table> <thead> <tr> <th>Command</th> <th>Parameter</th> <th>Explanation</th> </tr> </thead> <tbody> <tr> <td>AT+AppEui</td> <td>[=0102030405060708] (16 bit EUI)</td> <td>//set/get application EUI</td> </tr> <tr> <td>AT+NwkKey</td> <td>[=2B7E151628AED2A6ABF7158809CF4F3C]</td> <td>//Set/Get Network Root Key</td> </tr> <tr> <td>AT+AppKey</td> <td>[=2B7E151628AED2A6ABF7158809CF4F3C]</td> <td>//Set/Get Application Root Key</td> </tr> <tr> <td>AT+NwkSKey</td> <td>[=2B7E151628AED2A6ABF7158809CF4F3C]</td> <td>//Set/Get Application Session Key</td> </tr> <tr> <td>AT+AppSKey</td> <td>[=2B7E151628AED2A6ABF7158809CF4F3C]</td> <td>//Set/Get Network Session Key</td> </tr> <tr> <td>AT+DevAddr</td> <td>[=01020A0B]</td> <td>//Set/get device address</td> </tr> <tr> <td>AT+DevEui</td> <td>[=0123456789ABCDEF]</td> <td>//Set/get the unique ID of the module</td> </tr> <tr> <td>AT+NWKID</td> <td>[=127]</td> <td>//Setup Get Network ID</td> </tr> </tbody> </table> <h3 id=lorawan-join-and-send-data-commands><strong>LoRaWAN join and send data commands</strong><a class=headerlink href=#lorawan-join-and-send-data-commands title="Permanent link">&para;</a></h3> <table> <thead> <tr> <th>Command</th> <th>Parameter</th> <th>Explanation</th> </tr> </thead> <tbody> <tr> <td>AT+JOIN</td> <td>=1,3 (Parameter 1 is the entry mode selection (OTAA, ABP), parameter 2 is the number of cyclic entries (valid only in OTAA mode range (1-8)))</td> <td>//Join the network</td> </tr> <tr> <td>AT+LINKC</td> <td></td> <td>// Send out MAC command request to the next uplink</td> </tr> <tr> <td>AT+SEND[=port_nb:confirmedmode:data]where confirmedmode = 0 or 1.</td> <td>//Send data to the network</td> <td></td> </tr> </tbody> </table> <h3 id=lorawan-network-management-commands><strong>LoRaWAN network management commands</strong><a class=headerlink href=#lorawan-network-management-commands title="Permanent link">&para;</a></h3> <table> <thead> <tr> <th>Command</th> <th>Parameter</th> <th>Explanation</th> </tr> </thead> <tbody> <tr> <td>AT+VER</td> <td>[=class] where class = [A, B or C]</td> <td>// Get the version of the LoRa WAN</td> </tr> <tr> <td>AT+ADR</td> <td>[=dutycycle] where dutycycle = 0 or 1</td> <td>//Set/Get Adaptive Data Rate Function</td> </tr> <tr> <td>AT+BAND</td> <td>[=5,0] (Parameter 1 is band selection selectable (5 or 8), Parameter 2 is channel selection 868 (3), 915 (8)) (For multiple channels, only the first parameter is needed)</td> <td>//Set/Get band area</td> </tr> <tr> <td>AT+DR</td> <td>[=delay] where delay in ms (need to turn off AT+ADR=0 before setting, parameters 0-7)</td> <td>//Set/Get Data Rate</td> </tr> <tr> <td>AT+CLASS</td> <td>[=delay] where delay in ms, AT+CLASS=A or B or C , need to JOIN successfully before setting</td> <td>// Setting up the node ABC class</td> </tr> <tr> <td>AT+DCS</td> <td>[=delay] where delay in ms， AT+DCS=0 or 1</td> <td>//set/get connection delay on Rx window 1</td> </tr> <tr> <td>AT+JN1DL</td> <td>[=delay] where delay in ms</td> <td>//Set/Get connection delay on Rx window 2</td> </tr> <tr> <td>AT+JN2DL</td> <td>[=datarate] where X = [0:7]</td> <td>//set/get delay for Rx window 1</td> </tr> <tr> <td>AT+RX1DL</td> <td>[=delay] where delay in ms</td> <td>//set/get delay for Rx window 1</td> </tr> <tr> <td>AT+RX2DL</td> <td>[=delay] where delay in ms</td> <td>//Set/Get delay for Rx window 2</td> </tr> <tr> <td>AT+RX2DR</td> <td>[=datarate] where X = [0:7]</td> <td>//Set/Get data rate for Rx window 2</td> </tr> <tr> <td>AT+RX2FQ</td> <td>[=freq] where freq in Hz, AT+RX2FQ=868100000 need to set AT+BAND=5 then follow up with lorawan protocol downstream to set it up</td> <td>//Set/get the frequency of Rx window 2</td> </tr> <tr> <td>AT+TXP</td> <td>[=txpow] where txpow = [0:7]</td> <td>//Set/Get transmit power</td> </tr> <tr> <td>AT+PGSLOT</td> <td>[=periodicity]AT+PGSLOT=0 Parameters 0-7</td> <td>//Set/get unicast ping slot period. If the end device is already connected, resend PingSlotInfoReq</td> </tr> </tbody> </table> <h3 id=radio-test-command><strong>Radio Test Command</strong><a class=headerlink href=#radio-test-command title="Permanent link">&para;</a></h3> <table> <thead> <tr> <th>Command</th> <th>Parameter</th> <th>Explanation</th> </tr> </thead> <tbody> <tr> <td>AT+TTONE</td> <td>None</td> <td>// Set the RF tone test.</td> </tr> <tr> <td>AT+TRSSI</td> <td>None</td> <td>// Set the RF RSSI tone test.</td> </tr> <tr> <td>AT+TCONF</td> <td>[=freq:pow:bw:sf:cr:lna:pa :mod:paylen:freqdev :lowdropt:BT]AT+TCONF=868000000:14:4:12:&#8536;:0:0:1:16:25000:2:3</td> <td>//Setup/Get Configuration LoRa RF Test.</td> </tr> <tr> <td>AT+TTX</td> <td>[=nb_packets_sent]</td> <td>// Configure the number of messages sent by the PER RF Tx test.</td> </tr> <tr> <td>AT+TRX</td> <td>[=nb_packets_received]</td> <td>// Configure the number of messages received by the PER RF Rx test case.</td> </tr> <tr> <td>AT+CERTIF</td> <td>[=mode] where mode = 0 (ABP) or mode = 1 (OTAA)</td> <td>// Set the module in LoRaWAN authentication to connection mode.</td> </tr> <tr> <td>AT+TTH</td> <td>[=<fstart>, <fstop>,<fdelta>,<packetnb>]AT+TTH=868000000,868500000,100000,6</td> <td>//Activate RF Tx frequency hopping test from Fstart to Fstop (in Hz or MHz), Fdelta (in Hz)</td> </tr> <tr> <td>AT+TOFF</td> <td>None</td> <td>//Stop RF test.</td> </tr> <tr> <td>AT+BAT</td> <td>AT+BAT=？</td> <td>//Getting Battery Level</td> </tr> </tbody> </table> <h3 id=added-command><strong>Added command</strong><a class=headerlink href=#added-command title="Permanent link">&para;</a></h3> <table> <thead> <tr> <th>Command</th> <th>Parameter</th> <th>Explanation</th> </tr> </thead> <tbody> <tr> <td>AT+ChannelMode</td> <td>[=0] (0 is single channel, 1 is multi-channel, default is multi-channel)</td> <td>//Set/Get Channel Mode</td> </tr> <tr> <td>AT+LowPower</td> <td>[ =1 ] (0 is off low power, 1 is on low power, default is on low power)</td> <td>//Setting the power consumption mode</td> </tr> </tbody> </table> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> Back to top </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["content.action.edit", "content.action.view", "content.code.annotate", "content.code.copy", "content.tooltips", "navigation.footer", "navigation.indexes", "navigation.sections", "navigation.tabs", "navigation.top", "search.highlight", "search.share", "search.suggest", "toc.follow"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script> <script src=../../assets/javascripts/bundle.bd41221c.min.js></script> <script src=../../assets/javascripts/custom.129bd6ad.min.js></script> </body> </html>