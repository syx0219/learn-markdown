<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content=Elecrow><link rel=canonical href=https://wiki.elecrow.com/Products/Shield/binocular-stereo-vision-expansion-board-for-raspberry-pi.html><link rel=icon href=../../assets/favicon.ico><meta name=generator content="mkdocs-1.5.3, mkdocs-material-9.5.15"><title>Binocular Stereo Vision Expansion Board for Raspberry Pi - Elecrow</title><link rel=stylesheet href=../../assets/stylesheets/main.7e359304.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../stylesheets/extra.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config",""),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script><link rel=stylesheet href=../../assets/stylesheets/custom.00c04c01.min.css></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#introduction class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../index.html title=Elecrow class="md-header__button md-logo" aria-label=Elecrow data-md-component=logo> <img src=../../assets/images/ELECROW_LOGO.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Elecrow </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Binocular Stereo Vision Expansion Board for Raspberry Pi </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media=(prefers-color-scheme) data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8v2m9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1 0 1.71-1.39 3.1-3.1 3.1h-4V17h4a5 5 0 0 0 5-5 5 5 0 0 0-5-5Z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=black data-md-color-accent=indigo aria-label="Switch to system preference" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to system preference" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5M7 15a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg> </label> </form> <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=http://192.168.2.102:3000/ELECROW_IT/Elecrow_wiki title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> ELECROW_IT/Elecrow_wiki </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../index.html class=md-tabs__link> Main Page </a> </li> <li class=md-tabs__item> <a href=../index.html class=md-tabs__link> Products </a> </li> <li class=md-tabs__item> <a href=../../Tutorials/index.html class=md-tabs__link> Tutorials </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../index.html title=Elecrow class="md-nav__button md-logo" aria-label=Elecrow data-md-component=logo> <img src=../../assets/images/ELECROW_LOGO.png alt=logo> </a> Elecrow </label> <div class=md-nav__source> <a href=http://192.168.2.102:3000/ELECROW_IT/Elecrow_wiki title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> ELECROW_IT/Elecrow_wiki </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../index.html class=md-nav__link> <span class=md-ellipsis> Main Page </span> </a> </li> <li class=md-nav__item> <a href=../index.html class=md-nav__link> <span class=md-ellipsis> Products </span> </a> </li> <li class=md-nav__item> <a href=../../Tutorials/index.html class=md-nav__link> <span class=md-ellipsis> Tutorials </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#introduction class=md-nav__link> <span class=md-ellipsis> Introduction </span> </a> </li> <li class=md-nav__item> <a href=#features class=md-nav__link> <span class=md-ellipsis> Features </span> </a> </li> <li class=md-nav__item> <a href=#usager class=md-nav__link> <span class=md-ellipsis> Usager </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1>Binocular Stereo Vision Expansion Board for Raspberry Pi</h1> <h2 id=introduction><strong>Introduction</strong><a class=headerlink href=#introduction title="Permanent link">&para;</a></h2> <hr> <p>This binocular stereo vision expansion board is specially designed for Raspberry Pi Compute Module, compatible with CM3 / CM3 Lite / CM3+ / CM3+ Lite. Small in size but powerful in function. It features three CSI camera ports that can be connected by camera with different viewing angles or baseline value. It is flexible to build different Raspberry Pi stereo vision projects such as binocular parallax ranging, facial recognition, vivo detection, VR video recording and so on. Also, it has some common used ports like DSI and USB, it is convenient to be connected to LCD display and burning mirror directly. Moreover, it has peripheral interfaces like 24PIN HDMI and 36PIN GPIO are also supported through the FPC connector.</p> <p><strong>Model: <a href=https://www.elecrow.com/stereo-vision-expansion-board-for-raspberry-pi-compute-module-cm3-cm3-lite-cm3-cm3-lite.html>RPA20901S</a></strong></p> <p><img alt="Binocular Stereo Vision Expansion Board for Raspberry Pi 1.jpg" loading=lazy src=https://wiki.elecrow.com/images/thumb/a/af/Binocular_Stereo_Vision_Expansion_Board_for_Raspberry_Pi_1.jpg/600px-Binocular_Stereo_Vision_Expansion_Board_for_Raspberry_Pi_1.jpg></p> <h2 id=features><strong>Features</strong><a class=headerlink href=#features title="Permanent link">&para;</a></h2> <hr> <ul> <li>Comes with three camera ports</li> <li>DSI port allows directly connecting with DSI display</li> <li>With USB connector, convenient for burning mirror</li> <li>36PIN GPIO connector for extending UART port and Raspberry Pi GPIO</li> <li>24PIN HDMI extended connector for connecting with HDMI display</li> <li>10PIN GPIO/I2C extended connector for connecting ICM20948 IMU fill light board</li> <li>Integrates DS1307 RTC chip and comes with CR1220 battery holder</li> <li>Comes with acrylic mounting plate and tripod adapter</li> <li>Compatible with Raspberry Pi Compute Module CM3 / CM3 Lite / CM3+ / CM3+ Lite compatibly</li> </ul> <h2 id=usager><strong>Usager</strong><a class=headerlink href=#usager title="Permanent link">&para;</a></h2> <hr> <ul> <li> <p><strong>1. Burn image</strong></p> </li> <li> <p><strong>1.1 Flash the image to Compute Module 3/Compute Module 3+</strong></p> </li> </ul> <p>If you are using Raspberry Pi Compute Module 3 or Compute Module 3+. For these computing modules with eMMC, you need to burn the image to the eMMC on the computing module when using them, otherwise they cannot be used.</p> <p>The steps to burn to eMMC are as follows:</p> <p>1) Run RPiboot_Setup software on the computer and install the Raspberry Pi USB driver. It is recommended to turn off the anti-virus software before installation. After the installation is successful, there will be a rpiboot.exe software in the start folder, as shown in the following figure:</p> <p><img alt="Binocular Stereo Vision Expansion Board for Raspberry Pi 2.jpg" loading=lazy src=https://wiki.elecrow.com/images/8/85/Binocular_Stereo_Vision_Expansion_Board_for_Raspberry_Pi_2.jpg></p> <p>2) Switch the USB SLAVE ENABLE switch on the STEREO expansion board to the EN end</p> <p>3) Connect the computing module (computing module with eMMC)</p> <p>4) Connect the USB interface on the STEREO expansion board to the PC via a USB cable</p> <p>5) At this time, open the software rpiboot.exe with administrator authority , and the PC will automatically recognize the eMMC in the computing module as a U disk.</p> <p>6) Run Win32DiskImager-burn Record the image software , select the image, and burn the image to the eMMC.</p> <p>Note: If the image has been burned before, you can use the Panasonic_SDFormatter-SD card formatting software to format it before burning.</p> <p>7) After programming is complete, disconnect the USB cable. After disconnecting the power supply, reconnect the power supply to the PWR interface of the STEREO expansion board to start the system from eMMC.</p> <ul> <li><strong>Note</strong></li> <li> <p>During the programming process, the PC should not read and write other USB devices to avoid conflicts;</p> </li> <li> <p>The official image provided by Raspberry Pi, the default account is: pi and the password is: Raspberry.</p> </li> <li> <p>Since the eMMC of CM3 is only 4G (the latest CM3+ has expanded the capacity of eMMC and can support normal Raspberry Pi mirroring), the size of the burned image cannot exceed 4G. Therefore, if you burn Raspbian, you can only use the Lite version of the mirror. If you want a GUI. You can install the GUI by running the following command after the installation is complete:</p> </li> </ul> <div class="language-text highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a>sudo apt - get update
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a>sudo apt - get install raspberrypi - ui - mods
</span></code></pre></div> <p>If you can’t program normally with the STEREO expansion board, please try the following steps:</p> <ul> <li> <p>Use WIN10 system to burn, most customers feedback that WIN7 or linux system is unstable.</p> </li> <li> <p>Make sure your CM3/CM3+ version is normal, there will be an additional IC on the back of eMMC. Only the eMMC version can be burned in the current way. For those without eMMC, please refer to "Flashing Image to Compute Module 3 Lite or Compute Module 3+ Lite".</p> </li> </ul> <p><img alt="Binocular Stereo Vision Expansion Board for Raspberry Pi 3.jpg" loading=lazy src=https://wiki.elecrow.com/images/2/2e/Binocular_Stereo_Vision_Expansion_Board_for_Raspberry_Pi_3.jpg></p> <ul> <li> <p>Note that the PWR interface needs to be connected to a 5V power adapter.</p> </li> <li> <p>Replace a USB data cable.</p> </li> <li> <p>Replace the USB interface of a PC.</p> </li> <li> <p>Try to restart the PC.</p> </li> <li> <p>Try to unplug and plug CM3/CM3+ again.</p> </li> <li> <p>Try to burn on another computer.</p> </li> <li> <p><strong>1.2 Flash the image to Compute Module 3 Lite or Compute Module 3+ Lite</strong></p> </li> </ul> <p>The operation of flashing the image to Lite is:</p> <p>1) Download the image that seems to be flashing.</p> <p>2) Insert the TF card with a card reader into the computer. The minimum requirement for the TF card is 8G (16G or 32G is recommended).</p> <p>3) Open Win32DiskImager-burning image software, and select the image burning prepared in step 1. (Same as burning the Raspberry Pi image)</p> <p>4) After the burning is successful, insert the TF card into the TF card slot of the STEREO expansion board and power on.</p> <ul> <li><strong>2. Connect to DSI screen</strong></li> </ul> <p>The DSI screen model used in this experiment is: 4.3inch DSI LCD, or the Raspberry Pi screen provided by the Raspberry Pi Foundation</p> <p>1) Make sure to operate under power off</p> <p>2) Connect the 15Pin FPC cable to the DISP1 interface of the STEREO expansion board and the DSI screen</p> <p>3) Connect power</p> <p>4) Wait a few seconds before the screen starts</p> <ul> <li><strong>Note:</strong></li> </ul> <p>If you use the official image, you need to copy dt-blob.bin to the /boot directory to use it normally</p> <p>Device tree source file and its binary file</p> <p><img alt="Binocular Stereo Vision Expansion Board for Raspberry Pi 4.jpg" loading=lazy src=https://wiki.elecrow.com/images/e/ef/Binocular_Stereo_Vision_Expansion_Board_for_Raspberry_Pi_4.jpg></p> <ul> <li><strong>3. Connect HDMI screen</strong></li> </ul> <p>The HDMI screen model used in this experiment is: <strong>7 inch HDMI screen: <a href=https://www.elecrow.com/7-inch-1024-600-hdmi-lcd-display-with-touch-screen.html>ESP01215E</a></strong></p> <p>1) Remove the DSI screen, connect the HDMI adapter board to the HDMI interface of STEREO</p> <p>2) Connect the HDMI screen, (if the HDMI screen Connect with the DSI screen, then the Raspberry Pi will only drive the DSI screen)</p> <p>3) Change the config.txt file in the TF card to modify the resolution. For the screen model used this time, 7inch HDMI LCD (H) (with case) , Need to add the following statement at the end of config.txt:</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a>max_usb_current = 1
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a>  hdmi_force_hotplug = 1 
</span><span id=__span-1-3><a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a>  config_hdmi_boost = 10
</span><span id=__span-1-4><a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a>  hdmi_group = 2 
</span><span id=__span-1-5><a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a>  hdmi_mode = 87 
</span><span id=__span-1-6><a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a>  hdmi_cvt 1024 600 60 6 0 0 0
</span></code></pre></div> <p>4) After the change, restart the Raspberry Pi to drive the HDMI screen.</p> <ul> <li><strong>4. Connect CSI camera</strong></li> </ul> <p>4.1 Test the Raspberry Pi camera</p> <p>The method to test the Raspberry Pi camera is:</p> <p>1) Make sure that the mirror is downloaded from the Micro Snow Encyclopedia, the device tree is configured for the mirror, and the two cameras can be driven by commands without modification.</p> <p>2)Connect the camera to the CAM0 and CAM1 interfaces. The CSI camera model used in this experiment is: IMX219-77 Camera.</p> <p>3)After connecting, power on, after power on, you can check the camera effect:</p> <p>View the first camera screen connected:</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a>sudo raspivid - t 0 - cs 0
</span></code></pre></div> <p>View the second camera screen connected:</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-3-1><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a>sudo raspivid - t 0 - cs 1
</span></code></pre></div> <p>The -cs parameter indicates the number of cameras that are connected, but the camera number indicated by the -cs parameter is not exactly the same as the silkscreen of the board and the shell (the parameter -cs indicates the number of cameras that are connected, if only it is connected If a camera is connected to the CAM1 interface, check that the -cs parameter of the camera command is 0 to indicate the 0<sup>th</sup> camera connected).</p> <p>4.2 Source image, modify the device tree to drive the camera</p> <p>If you use the image provided by us, the device tree has already been configured. This step can be skipped directly. If you are using a brand new image provided by the official, you need to reconfigure the device tree.</p> <p>1)Run raspi-config, select Interfacing Options-&gt;Camera-&gt;Yes-&gt;Finish-Yes, reboot the system, and turn on enable camera.</p> <p>2)The device tree file download official, the Raspberry Pi Foundation device tree <strong><a href=https://www.raspberrypi.org/documentation/hardware/computemodule/cmio-display.md>referral link</a></strong> , Raspberry Pi Foundation device tree <strong>download 1 link</strong> , <strong>download link 2</strong></p> <p>3)After downloading the device tree file, next, you need to modify the device tree file. The specific device tree is modified as follows:</p> <p><img alt="Binocular Stereo Vision Expansion Board for Raspberry Pi 5.jpg" loading=lazy src=https://wiki.elecrow.com/images/thumb/7/72/Binocular_Stereo_Vision_Expansion_Board_for_Raspberry_Pi_5.jpg/600px-Binocular_Stereo_Vision_Expansion_Board_for_Raspberry_Pi_5.jpg></p> <p><img alt="Binocular Stereo Vision Expansion Board for Raspberry Pi 6.jpg" loading=lazy src=https://wiki.elecrow.com/images/thumb/7/73/Binocular_Stereo_Vision_Expansion_Board_for_Raspberry_Pi_6.jpg/600px-Binocular_Stereo_Vision_Expansion_Board_for_Raspberry_Pi_6.jpg></p> <p>Namely: Compared with the official device tree file, the specific modification is: the LDE and SHUTDOWN of Camera0 are changed from the original 4,5 pins to 32,33 pins.</p> <p>4）After modifying the device tree file, compile the device tree file, the compilation method is as follows:</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-4-1><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a>dtc - I dts - O dtb - o dt - blob . bin dt - blob - disp1 - cam2 . dts
</span></code></pre></div> <p>5）After compilation, a dt-blob.bin file will be generated. Just copy (replace) this file directly to the boot directory.</p> <p>6）Restart, you can test the dual camera with the following command:</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-5-1><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a>sudo raspivid - t 0 - cs 0 
</span><span id=__span-5-2><a id=__codelineno-5-2 name=__codelineno-5-2 href=#__codelineno-5-2></a>sudo raspivid - t 0 - cs 1
</span></code></pre></div> <p>How to use CAM3 interface The CAM3 interface and the CAM1 interface are switched through the GPIO38 pin. If the GPIO38 interface is set to high level, the CS1 interface calls the camera of the CAM3 interface. If the GPIO38 interface is set to low level, the CS1 interface calls the camera of the CAM1 interface.</p> <p>7) Run the following program</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-6-1><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a>cd ~ /CM_STEREO_BOARD
</span><span id=__span-6-2><a id=__codelineno-6-2 name=__codelineno-6-2 href=#__codelineno-6-2></a>sudo chmod +x CAM3_CAM1_Switch.sh
</span><span id=__span-6-3><a id=__codelineno-6-3 name=__codelineno-6-3 href=#__codelineno-6-3></a>./ CAM3_CAM1_Swtich . Sh 1
</span></code></pre></div> <p>/CAM3_CAM1_Switch.sh 1 Switch to use CAM3 interface</p> <p>8) Run the camera command test after switching</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-7-1><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a>sudo raspivid - t 0 - cs 1
</span></code></pre></div> <ul> <li><strong>5. Test ICM20948</strong></li> </ul> <p>1) First download the sample program</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-8-1><a id=__codelineno-8-1 name=__codelineno-8-1 href=#__codelineno-8-1></a>HTTP wget : //www.waveshare.net/w/upload/d/d8/CM_STEREO_BOARD.zip
</span><span id=__span-8-2><a id=__codelineno-8-2 name=__codelineno-8-2 href=#__codelineno-8-2></a>unzip CM_STEREO_BOARD . zip
</span></code></pre></div> <p>2) Connect the ICM20948 fill light board to the STEREO expansion board through a 10pin cable</p> <p>3)Turn on the I2C interface</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-9-1><a id=__codelineno-9-1 name=__codelineno-9-1 href=#__codelineno-9-1></a>sudo raspi - config
</span></code></pre></div> <p>Select Interfacing Options -&gt; I2C -&gt; Yes-&gt;OK</p> <p>4) Check the I2c address</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-10-1><a id=__codelineno-10-1 name=__codelineno-10-1 href=#__codelineno-10-1></a>i2cdetect - y 1
</span></code></pre></div> <p><img alt="Binocular Stereo Vision Expansion Board for Raspberry Pi 7.jpg" loading=lazy src=https://wiki.elecrow.com/images/c/ca/Binocular_Stereo_Vision_Expansion_Board_for_Raspberry_Pi_7.jpg></p> <p>Two addresses of 68 69 can be detected, indicating that the module is connected normally Where 68 is the address of the RTC, 69 is the address of the ICM20948 chip</p> <p>5) Run the following command to test ICM20948</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-11-1><a id=__codelineno-11-1 name=__codelineno-11-1 href=#__codelineno-11-1></a>cd ~ /CM_STEREO_BOARD/ 10Dof - D_Demo /
</span><span id=__span-11-2><a id=__codelineno-11-2 name=__codelineno-11-2 href=#__codelineno-11-2></a>sudo make
</span><span id=__span-11-3><a id=__codelineno-11-3 name=__codelineno-11-3 href=#__codelineno-11-3></a>sudo ./ 10Dof - D
</span></code></pre></div> <p>After running the program, the terminal interface will print the information of the ICM20948 chip</p> <p><img alt="Binocular Stereo Vision Expansion Board for Raspberry Pi 8.jpg" loading=lazy src=https://wiki.elecrow.com/images/thumb/0/02/Binocular_Stereo_Vision_Expansion_Board_for_Raspberry_Pi_8.jpg/450px-Binocular_Stereo_Vision_Expansion_Board_for_Raspberry_Pi_8.jpg></p> <p>Ctrl+c can close the program</p> <ul> <li><strong>6. Test RTC</strong></li> </ul> <p>1)The STEREO expansion board has a RTC spare battery holder, you can connect to the CR1220 button battery, the battery needs to be purchased separately</p> <p>2)Modify the rc.local file</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-12-1><a id=__codelineno-12-1 name=__codelineno-12-1 href=#__codelineno-12-1></a>Nano sudo / etc / rc . local
</span></code></pre></div> <p>Add the following statement to the front of exit0</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-13-1><a id=__codelineno-13-1 name=__codelineno-13-1 href=#__codelineno-13-1></a>sudo modprobe i2c - dev &amp;
</span><span id=__span-13-2><a id=__codelineno-13-2 name=__codelineno-13-2 href=#__codelineno-13-2></a>sudo modprobe i2c - bcm2708 &amp;
</span><span id=__span-13-3><a id=__codelineno-13-3 name=__codelineno-13-3 href=#__codelineno-13-3></a>echo &quot;ds1307 0x68&quot; | sudo tee / sys / class / i2c - adapter / i2c - 1 / new_device &amp;
</span></code></pre></div> <p><img alt="Binocular Stereo Vision Expansion Board for Raspberry Pi 9.jpg" loading=lazy src=https://wiki.elecrow.com/images/thumb/1/1e/Binocular_Stereo_Vision_Expansion_Board_for_Raspberry_Pi_9.jpg/450px-Binocular_Stereo_Vision_Expansion_Board_for_Raspberry_Pi_9.jpg></p> <p>3) Reboot the system</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-14-1><a id=__codelineno-14-1 name=__codelineno-14-1 href=#__codelineno-14-1></a>sudo reboot
</span></code></pre></div> <p>4) After restarting, check the I2c address again, and you will find that the original address 68 has become UU, which is normal</p> <p>5)Read RTC time</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-15-1><a id=__codelineno-15-1 name=__codelineno-15-1 href=#__codelineno-15-1></a>sudo hwclock – r
</span></code></pre></div> <p>After the command is executed, the current network time will be printed out. If the time is not correct, set the time zone in the system and test again.</p> <p>6)You can also write the RTC time into the system</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-16-1><a id=__codelineno-16-1 name=__codelineno-16-1 href=#__codelineno-16-1></a>sudo hwclock – s
</span></code></pre></div> <ul> <li><strong>7. Test fill light and buttons</strong></li> </ul> <p>On the ICM20948 board, there are two fill lights onboard, one is white fill light and the other is infrared fill light. Here we combine the buttons on the STEREO board to test the fill light function</p> <p>1)Run command</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-17-1><a id=__codelineno-17-1 name=__codelineno-17-1 href=#__codelineno-17-1></a>cd ~ /CM_STEREO_BOARD/
</span><span id=__span-17-2><a id=__codelineno-17-2 name=__codelineno-17-2 href=#__codelineno-17-2></a>Python KEY_LED sudo . Py
</span></code></pre></div> <p>After successfully running the program, the infrared fill light will light up, press the button to switch between the infrared fill light and the white fill light Note that the brightness of the white fill light is relatively high. When testing, cover it to avoid direct exposure to the eyes.</p> <p>Ctrl+C can terminate the program.</p> <ul> <li><strong>8. Test the serial port expansion board</strong></li> </ul> <p>1)Connect the serial port expansion board to the STEREO board through the 36PIN cable</p> <p>2)Connect the USB port on the serial port expansion board to the computer with a USB cable</p> <p>3)The Raspberry Pi system enables the serial port debugging interface function</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-18-1><a id=__codelineno-18-1 name=__codelineno-18-1 href=#__codelineno-18-1></a>sudo raspi – config
</span></code></pre></div> <p>Select Interfacing Options -&gt; Serial -&gt; Yes -&gt; No -&gt; OK</p> <p>4)Restart the system, then open the putty software on the computer and use the serial port to log in to the Raspberry Pi</p> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> Back to top </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["content.action.edit", "content.action.view", "content.code.annotate", "content.code.copy", "content.tooltips", "navigation.footer", "navigation.indexes", "navigation.sections", "navigation.tabs", "navigation.top", "search.highlight", "search.share", "search.suggest", "toc.follow"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script> <script src=../../assets/javascripts/bundle.bd41221c.min.js></script> <script src=../../assets/javascripts/custom.129bd6ad.min.js></script> </body> </html>